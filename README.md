# NeoflexTrainingProject

## Training project from neoflex.

### Задание. Разработка микросервиса на Spring.

- [x] Установка ПО:
  Установить Java 11 или выше. Скачать и установить Intellij IDEA Community Version. Скачать и установить Postman.
- [x] Через Spring Initializer https://start.spring.io/ сделать проект с параметрами: Java 11, сборщик maven, подключить
  зависимости для Postgre SQL Driver.
- [x] Реализовать простой MVC проект с набором классов: Controller, Service. Проект должен уметь на
  запрос http://localhost:8080/test возвращать ответ "OK". Пример можно
  посмотреть https://www.baeldung.com/spring-controllers
- [x] Продумывание начальной бизнес-логики приложения. Задача от бизнеса. Реализовать систему обеспечения рабочего
  процесса, который выглядит следующим образом: для выполнения рабочей операции нужно предоставить работника, материал,
  соответствующие технологической карте процесса.
    - [x] Нужно продумать, какие нужны таблицы в БД для сущностей "работник", "материал", "технологическая карта", "
      завершенный процесс".
    - [x] Подключить БД на Postgre SQL к проекту. Вручную завести в БД таблицы и тестовые данные.
    - [x] Добавить в проект классы Entity соответствующие таблицам в БД. Добавить классы Repository для работы с
      таблицами БД. Добавить классы Service для обращения к репозиториям. Добавить классы Controller, в которых будут
      реализованы CRUD-операции для сущностей "работник", "материал", "технологическая карта".
    - [x] Подключить в проект Swagger. Настроить описание методов контроллеров, чтобы через Swagger можно было получить
      полную информацию об операции, передаваемых параметрах, структуре ответа.
- [x] Добавление логики для выполнения технологической операции. Добавить классы Controller, Service, Repository, Entity
  для сущности "завершенный процесс".
    - [x] На вход должен передаваться запрос, идентификатор работника, материал, идентификатор технологической карты.
      Надо проработать структуру этого запроса в виде JSON.
    - [x] Реализовать бизнес-логику выполнения процесса: если сотрудник есть в БД, материал есть в БД и удовлетворяет
      требованиям технологической карты, то процесс выполняется успешно, иначе - неуспешно.
- [ ]  Добавление логирования. Подключить в проект библиотеку log4j. Процесс выполнения технологической операции из п.5
  должен записываться в лог: ошибки выполнения, результат выполнения "успешно"/"неуспешно".
- [ ]  Добавление маппинга. Для сущностей "работник", "материал", "технологическая карта", "завершенный процесс"
  необходимо создать классы DTO (data transfer object), которые должны приходить на вход в контроллеры, маппиться в
  Entity. На выходе из контроллеров Entity должны обратно преобразовываться в DTO и отправляться в качестве ответа на
  запрос. Как правило, это необходимо для возможности сокрытия части внутренней логики, или же наоборот, добавления
  дополнительной информации, отсутствующей в Entity. Для этого в проект нужно подключить маппер MapStruct и делать в нем
  преобразование Entity -> DTO и DTO -> Entity без изменений полей.
- [ ]  Добавить работу через планировщик:
  Убрать из контроллера сущности "завершенный процесс" метод создания процесса. Добавить класс-планировщик, который
  будет рандомно запускать технологический процесс. Для этого нужно воспользоваться аннотацией Scheduled и
  Cron-выражение для указание периодичности запуска.
- [ ]  Добавить в контроллер сущности "завершенный процесс" метод формирования отчета по завершенным технологическим
  процессам.

Примечания:

1. Перед каждым пунктом рекомендуется связаться с куратором для обсуждения реализации.
2. После выполнения каждого пункта создается мердж-реквест в репозитории и отправляется на проверку куратору.
